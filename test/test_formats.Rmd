---
title: "R Markdown Format Tests"
author: "Test Author"
date: "`r Sys.Date()`"
output:
  pdf_document:
    latex_engine: xelatex
    toc: true
    number_sections: true
    fig_caption: true
    keep_tex: true
  html_document:
    toc: true
    toc_float: true
    theme: united
  word_document:
    toc: true
    reference_docx: null
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  fig.width = 7,
  fig.height = 5,
  fig.path = 'figures/',
  dev = 'pdf'
)
library(ggplot2)
```

# Basic Text Formatting

This is **bold** text, this is *italic* text.

## List Example

1. First item
2. Second item
   - Sub-item A
   - Sub-item B
3. Third item

# Data Visualization

## Scatter Plot

```{r scatter}
ggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +
  geom_point(size = 3) +
  labs(title = "Car Weight vs MPG",
       x = "Weight (1000 lbs)",
       y = "Miles per Gallon",
       color = "Cylinders") +
  theme_minimal()
```

## Box Plot

```{r boxplot}
ggplot(mtcars, aes(x = factor(cyl), y = mpg, fill = factor(cyl))) +
  geom_boxplot() +
  labs(title = "MPG Distribution by Cylinders",
       x = "Number of Cylinders",
       y = "Miles per Gallon",
       fill = "Cylinders") +
  theme_minimal()
```

# Tables

## Basic Table

```{r basic_table}
knitr::kable(head(mtcars[, 1:5]), 
             caption = "First 6 rows of mtcars dataset",
             booktabs = TRUE)
```

## Summary Statistics

```{r summary_table}
summary_stats <- aggregate(mpg ~ cyl, data = mtcars, 
                         FUN = function(x) c(mean = mean(x), 
                                           sd = sd(x)))
knitr::kable(summary_stats,
             caption = "MPG Statistics by Cylinder Count",
             booktabs = TRUE)
```

# Math Equations

Inline equation: When \(x \to \infty\), \(e^{-x} \to 0\)

Display equation:

$$
f(x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{(x-\mu)^2}{2\sigma^2}}
$$

# Code Example

```{r code_demo}
fibonacci <- function(n) {
  if (n <= 1) return(n)
  fib <- numeric(n+1)
  fib[1] <- 0
  fib[2] <- 1
  for (i in 3:(n+1)) {
    fib[i] <- fib[i-1] + fib[i-2]
  }
  return(fib[n+1])
}

# Test the function
sapply(0:5, fibonacci)
``` 